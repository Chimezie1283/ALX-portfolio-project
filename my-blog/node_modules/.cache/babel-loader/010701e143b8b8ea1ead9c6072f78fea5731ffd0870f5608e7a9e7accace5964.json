{"ast":null,"code":"import{useState}from\"react\";import axios from\"axios\";import useUser from\"../hooks/useUser\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const AddCommentForm=_ref=>{let{articleName,onArticleUpdated}=_ref;const[name,setName]=useState('');const[commentText,setCommentText]=useState('');const{user}=useUser('');const addComment=async()=>{const token=user&&(await user.getIdToken());const headers=token?{authtoken:token}:{};const response=await axios.post(\"/api/articles/\".concat(articleName,\"/comments\"),{postedBy:name,text:commentText},{headers});const updatedArticle=response.data;onArticleUpdated(updatedArticle);setName('');setCommentText('');};return/*#__PURE__*/_jsxs(\"div\",{id:\"add-comment-form\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Add a Comment\"}),user&&/*#__PURE__*/_jsxs(\"p\",{children:[\"You are posting as \",user.email]}),/*#__PURE__*/_jsx(\"textarea\",{value:commentText,onChange:e=>setCommentText(e.target.value),rowa:\"4\",cols:\"50\"}),/*#__PURE__*/_jsx(\"button\",{onClick:addComment,children:\"Add Comment\"})]});};export default AddCommentForm;","map":{"version":3,"names":["useState","axios","useUser","jsx","_jsx","jsxs","_jsxs","AddCommentForm","_ref","articleName","onArticleUpdated","name","setName","commentText","setCommentText","user","addComment","token","getIdToken","headers","authtoken","response","post","concat","postedBy","text","updatedArticle","data","id","children","email","value","onChange","e","target","rowa","cols","onClick"],"sources":["C:/Users/HP/Documents/alx-portfolio-project/my-blog/src/components/AddCommentForm.js"],"sourcesContent":["import { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport useUser from \"../hooks/useUser\";\r\n\r\nconst AddCommentForm = ({articleName, onArticleUpdated}) => {\r\n    const [name, setName] = useState('');\r\n    const [commentText, setCommentText] = useState('');\r\n    const { user } = useUser('');\r\n\r\n    const addComment = async () => {\r\n        const token = user && await user.getIdToken();\r\n        const headers = token ? { authtoken: token } : {};\r\n        const response = await axios.post(`/api/articles/${articleName}/comments`, {\r\n            postedBy: name,\r\n            text: commentText,\r\n        }, {\r\n            headers,\r\n        });\r\n        const updatedArticle = response.data;\r\n        onArticleUpdated(updatedArticle);\r\n        setName('');\r\n        setCommentText('');\r\n    }\r\n\r\n    return (\r\n        <div id=\"add-comment-form\">\r\n            <h3>Add a Comment</h3>\r\n            {user && <p>You are posting as {user.email}</p>}\r\n            <textarea\r\n                value={commentText}\r\n                onChange={e => setCommentText(e.target.value)}\r\n                rowa=\"4\"\r\n                cols=\"50\">\r\n            </textarea>\r\n            <button onClick={addComment}>Add Comment</button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default AddCommentForm;"],"mappings":"AAAA,OAASA,QAAQ,KAAQ,OAAO,CAChC,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,OAAO,KAAM,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEvC,KAAM,CAAAC,cAAc,CAAGC,IAAA,EAAqC,IAApC,CAACC,WAAW,CAAEC,gBAAgB,CAAC,CAAAF,IAAA,CACnD,KAAM,CAACG,IAAI,CAAEC,OAAO,CAAC,CAAGZ,QAAQ,CAAC,EAAE,CAAC,CACpC,KAAM,CAACa,WAAW,CAAEC,cAAc,CAAC,CAAGd,QAAQ,CAAC,EAAE,CAAC,CAClD,KAAM,CAAEe,IAAK,CAAC,CAAGb,OAAO,CAAC,EAAE,CAAC,CAE5B,KAAM,CAAAc,UAAU,CAAG,KAAAA,CAAA,GAAY,CAC3B,KAAM,CAAAC,KAAK,CAAGF,IAAI,GAAI,KAAM,CAAAA,IAAI,CAACG,UAAU,CAAC,CAAC,EAC7C,KAAM,CAAAC,OAAO,CAAGF,KAAK,CAAG,CAAEG,SAAS,CAAEH,KAAM,CAAC,CAAG,CAAC,CAAC,CACjD,KAAM,CAAAI,QAAQ,CAAG,KAAM,CAAApB,KAAK,CAACqB,IAAI,kBAAAC,MAAA,CAAkBd,WAAW,cAAa,CACvEe,QAAQ,CAAEb,IAAI,CACdc,IAAI,CAAEZ,WACV,CAAC,CAAE,CACCM,OACJ,CAAC,CAAC,CACF,KAAM,CAAAO,cAAc,CAAGL,QAAQ,CAACM,IAAI,CACpCjB,gBAAgB,CAACgB,cAAc,CAAC,CAChCd,OAAO,CAAC,EAAE,CAAC,CACXE,cAAc,CAAC,EAAE,CAAC,CACtB,CAAC,CAED,mBACIR,KAAA,QAAKsB,EAAE,CAAC,kBAAkB,CAAAC,QAAA,eACtBzB,IAAA,OAAAyB,QAAA,CAAI,eAAa,CAAI,CAAC,CACrBd,IAAI,eAAIT,KAAA,MAAAuB,QAAA,EAAG,qBAAmB,CAACd,IAAI,CAACe,KAAK,EAAI,CAAC,cAC/C1B,IAAA,aACI2B,KAAK,CAAElB,WAAY,CACnBmB,QAAQ,CAAEC,CAAC,EAAInB,cAAc,CAACmB,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAC9CI,IAAI,CAAC,GAAG,CACRC,IAAI,CAAC,IAAI,CACH,CAAC,cACXhC,IAAA,WAAQiC,OAAO,CAAErB,UAAW,CAAAa,QAAA,CAAC,aAAW,CAAQ,CAAC,EAChD,CAAC,CAEd,CAAC,CAED,cAAe,CAAAtB,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}